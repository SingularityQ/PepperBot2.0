<!DOCTYPE html>
<html>
    <head>
        <title>Physics</title>
        <link rel="stylesheet" type="text/css" href="/newstyle.css" />
        <link rel="icon" type="image/x-icon" href="../images/favicon.ico" />
        <meta content="physics testing" property="og:title" />
        <meta content="extremely buggy, extremely unoptimized, semi interesting" property="og:description" />
        <meta content="https://pepperbot.online" property="og:url" />
        <meta content="#ff0000" data-react-helmet="true" name="theme-color" />
    </head>
    <body>
        <div class="sidebar">
            <script id="definesidebarfunctions">
                let sidebarIsOpen = sessionStorage.getItem('sidebarIsOpen');;
                function redirectTo(url) {
                    sessionStorage.setItem('sidebarIsOpen', sidebarIsOpen);
                    window.location.href = url;
                }
                function openInNewTab(url) {
                    sessionStorage.setItem('sidebarIsOpen', sidebarIsOpen);
                    let win = window.open(
                        url,
                        "_blank"
                    );
                }
                function showSidebarToggler() {
                    const sidebarToggler = document.querySelector(".sidebarToggler");
                    sidebarToggler.style.opacity = "0.25";
                }
                function hideSidebarToggler() {
                    const sidebarToggler = document.querySelector(".sidebarToggler");
                    sidebarToggler.style.opacity = "0";
                }
            </script>
            <div class="sidebarToggler" onclick="toggleSidebar(); hideSidebarToggler()" onmouseover="showSidebarToggler()" onmouseout="hideSidebarToggler()"></div>
            <h2 class="sidebarTitle">NAVIGATION</h2>
            <div class="sidebarDivider"></div>
            <div class="sidebarButton" id="/" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Home</div>
            <div class="sidebarButton" id="/statistics" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Statistics</div>
            <div class="sidebarButton" id="/logs" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Logs</div>
            <div class="sidebarButton" id="/chat" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Chat</div>
            <div class="sidebarButton" id="/credits" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Credits</div>
            <div class="sidebarButton" id="/contact" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Contact</div>
            <div class="sidebarButton" id="/shame" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Shame</div>
            <div class="sidebarButton" id="/coolsites" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)">Cool Sites</div>

            <div class="sidebarButton" id="https://github.com/ayeuhugyu/pepperbot" onclick="redirectTo(this.id)" onauxclick="openInNewTab(this.id)" style="position: fixed; bottom: 0;">Source Code</div>
            <script id="sidebarmain">
                function toggleSidebar() {
                    document.querySelectorAll(".sidebar").forEach((element) => {
                        void element.offsetWidth;

                        if (sidebarIsOpen) {
                            element.style.animation = "slideOpen 0.5s forwards";
                        } else {
                            element.style.animation =
                                "slideClose 0.5s forwards";
                        }
                    });
                    sidebarIsOpen = !sidebarIsOpen;
                    sessionStorage.setItem('sidebarIsOpen', sidebarIsOpen);
                }
                document.addEventListener("keydown", (event) => {
                    if (event.key === "k" && event.target.tagName !== "INPUT" && event.target.tagName !== "TEXTAREA") {
                        toggleSidebar();
                    }
                });
                document
                    .querySelectorAll(".sidebarButton")
                    .forEach((button) => {
                        button.style.transition = "transform 0.25s ease-in-out";
                        button.addEventListener("mouseover", () => {
                            button.style.backgroundColor = "#13131d";
                            button.style.transform = "translateX(-100px)";
                        });
                        button.addEventListener("mouseout", () => {
                            button.style.backgroundColor = "#1E1E2E";
                            button.style.transform = "translateX(0px)";
                        });
                        button.addEventListener("mousedown", () => {
                            button.style.backgroundColor = "#616187";
                        });
                        button.addEventListener("mouseup", () => {
                            button.style.backgroundColor = "#616187";
                        });
                    });
                document.addEventListener("DOMContentLoaded", function () {
                    sidebarIsOpen = sessionStorage.getItem('sidebarIsOpen') === "true";
                    if (sidebarIsOpen) {
                        document
                            .querySelectorAll(".sidebar")
                            .forEach((element) => {
                                element.style.animation =
                                    "slideClose 0s forwards";
                            });
                    }
                });
            </script>
        </div>
        <div id="centerer" class="container" style="position: absolute; left: 0; top: 0; justify-content: left">
            <div class="cardcontainer" id="logscontainer" style="width: calc(100vw - 30px); height: calc(100vh - 30px); margin: 15px">
                <div class="sectionoutline" style="justify-content: center; text-align: center; height: 100%; box-sizing: border-box">
                    <div class="sectioncontent" style="margin-bottom: -10px; width: 100%; height: calc(100% - 18px); display: flex; flex-direction: column; justify-content: flex-start; overflow: hidden;">
                        <h2 class="sectionTitle">fluid physics testing</h2>
                        <div class="flexcontainer" id="simulationholder" style="flex-direction: row; width: 100%; flex-grow: 1; align-items: center; justify-items: left;">
                            <div id="simulation" class="outlined" style="margin-right: 5px; height: 100%; flex-grow: 0.95">
                                <div id="simulationBounds" style="width: calc(100% - 10px); height: calc(100% - 10px); border: 1px solid #42e599; margin-top: 5px; margin-left: 5px; position: relative">

                                </div>
                            </div>
                            <div id="settings" class="outlined" style="flex-grow: 0.05; height: 100%; overflow: scroll;">
                                <h2 class="sectionTitle">settings</h2>
                                <div class="flexcontainer" style="flex-direction: column; align-items: flex-start; padding-left: 5px;">
                                    <button type="button" id="restartSimulation" onclick="start()" >regenerate particles</button>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            const simulationDiv = document.getElementById("simulation")
            const simulationBounds = document.getElementById("simulationBounds")
            const settingsDiv = document.getElementById("settings")

            function exposeSetting(name, type, min, max, step, defaultValue) {
                const holder = document.createElement("div")
                holder.className = "flexcontainer"
                holder.style.flexDirection = "row"
                holder.style.alignItems = "center"
                holder.style.justifyItems = "center"
                const label = document.createElement("span")
                label.innerText = name
                const input = document.createElement("input")
                input.type = type
                input.id = name
                input.min = min
                input.max = max
                input.step = step
                input.value = defaultValue
                const valueSpan = document.createElement("span")
                valueSpan.id = name + "Value"
                valueSpan.innerText = defaultValue
                holder.appendChild(label)
                holder.appendChild(input)
                holder.appendChild(valueSpan)
                settingsDiv.appendChild(holder)
                input.addEventListener("input", () => {
                    valueSpan.innerText = input.value
                })
                return input
            }
            let vl = exposeSetting("value", "range", 0, 1, 0.01, 0.1)
            setInterval(() => {
                simulationBounds.innerHTML = ""
                simulationBounds.innerText = vl.value
            })
        </script>
    </body>
</html>
